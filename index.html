<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>时钟</title>
	</head>
	<body>
		<canvas id="can" width="500" height="500">
			
		</canvas>
		
		<script>
			var can = document.getElementById("can");
			var ctx = can.getContext("2d");
			
			
			function drawClock(){
				for( i=0; i<60; i++){
					drawOutline(5,6,i);
				}
				cover(190,"#fff");
				for(var i=0; i<12; i++){
					drawOutline(8,30,i);
				}
				cover(170,"#fff");	
				setInterval(t,1000);
			}
			
			
			var t = function(){
				ctx.save();
				drawClock()
				var date = new Date();
				var h = date.getHours();
				var m = date.getMinutes();
				var s = date.getSeconds();
				drawPin(4,"#ddd",6,s,160);
				drawPin(5,"#eee",6,m,160);
				drawPin(7,"#ccc",30,h,150);
				ctx.restore();
				
			}
			
//			function drawPin(){
//				
//				ctx.lineWidth = 5; 
// 				ctx.beginPath();
// 				ctx.moveTo(250,250);
// 				ctx.strokeStyle = "#000";
//				
//				ctx.arc(250,250,180,(-90+6*m)*Math.PI/180,(-90+6*m)*Math.PI/180,false);
//				ctx.closePath();
//				ctx.stroke();
//			}
			
			
			function drawPin(pen,color,angle,t,r){
				ctx.beginPath();
				ctx.moveTo(250,250);
				ctx.lineWidth = pen;
				ctx.strokeStyle = color;
				ctx.arc(250,250,r,(-90+angle*t)*Math.PI/180,(-90+angle*t)*Math.PI/180,false);
				ctx.closePath();
				ctx.stroke();
			}
			
			function drawOutline(pen,angle,i){
				ctx.beginPath();
				ctx.lineWidth = pen;
				ctx.moveTo(250,250);
				ctx.arc(250,250,200,angle*i*Math.PI/180,angle*(i+1)*Math.PI/180,false);
				ctx.stroke();
				ctx.closePath();
			}
			function cover(r,color){
				ctx.beginPath();
				ctx.lineWidth = 8;
				ctx.fillStyle = color;
				ctx.moveTo(250,250);
				ctx.arc(250,250,r,0,360*Math.PI/180,false);
				ctx.closePath();
				ctx.fill();
				
			}
			
			drawClock();
			
		</script>
		
	</body>
</html>
